#!/bin/sh
#
# $FreeBSD: ports/databases/slony1/files/slon.sh.in,v 1.2 2005/07/08 15:16:53 pav Exp $
#

# PROVIDE: %%NAME%%
# REQUIRE: postgresql
# KEYWORD: shutdown

# Add the following line to /etc/rc.conf to enable `%%NAME%%':
#
#%%NAME%%_enable="YES"
#
# and be sure to configure %%PREFIX%%/etc/%%NAME%%.conf

. "%%RC_SUBR%%"

name="%%NAME%%"
rcvar=`set_rcvar`

pidfile="/var/run/$name.pid"
command="%%PREFIX%%/bin/slon"
command_args="-f %%PREFIX%%/etc/$name.conf -p $pidfile &"
required_files="%%PREFIX%%/etc/$name.conf"

# read configuration and set defaults
load_rc_config "$name"
: ${%%NAME%%_enable="NO"}

run_rc_command "$1"
