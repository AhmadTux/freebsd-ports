#!/bin/sh
#
# $FreeBSD: ports/net-mgmt/nrpe2/files/nrpe2.in,v 1.1 2007/07/24 12:57:40 mm Exp $
#

# PROVIDE: nrpe2
# REQUIRE: NETWORKING
# KEYWORD: shutdown

#
# Add the following lines to /etc/rc.conf to enable nrpe2:
# nrpe2_enable (bool):    Set to "NO" by default.
#                         Set it to "YES" to enable nrpe2.
# nrpe2_flags (str):      Set to "" by default.
# nrpe2_configfile (str): Set to "%%PREFIX%%/etc/nrpe.cfg" by default.
#

. %%RC_SUBR%%

name="nrpe2"
rcvar=`set_rcvar`

command="%%PREFIX%%/sbin/nrpe2"
command_args="-d"
extra_commands="reload"
pidfile="%%NAGIOSDIR%%/nrpe2.pid"

sig_reload=HUP

[ -z "${nrpe2_enable}" ] && nrpe2_enable="NO"
[ -z "${nrpe2_flags}" ] && nrpe2_flags=""
[ -z "${nrpe2_configfile}" ] && nrpe2_configfile="%%PREFIX%%/etc/nrpe.cfg"

load_rc_config "${name}"

required_files="${nrpe2_configfile}"
command_args="${command_args} -c ${nrpe2_configfile}"

run_rc_command "$1"
